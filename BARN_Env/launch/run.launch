<launch>

  <param name="use_sim_time" value="true"/>

  <!-- 地图编号选择，0-299 -->
  <arg name="map_id" default="1"/>

  <!-- 启动 Gazebo 仿真环境（世界 + 物理引擎 + GUI）-->
  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="paused"     value="false"/>   <arg name="use_sim_time" value="false"/>
    <arg name="gui"        value="true"/>    <arg name="headless"   value="true"/>
    <arg name="debug"      value="false"/>   
    <arg name="world_name" value="$(find BARN_Env)/source/world_files/world_$(arg map_id).world"/>
  </include>


  <include file="$(find 4WIS_Robot)/launch/wo_world.launch"></include>


  <!-- 显示地图对应难度指标和预规划路径，由于机器人平台不同，BARN的原数据已经不具有参考价值 -->
  <node pkg="BARN_Env" type="map_info.py" name="npy_reader" output="screen">
    <param name="metrics_npy" value="$(find BARN_Env)/source/metrics_files/metrics_$(arg map_id).npy"/>
    <param name="path_npy" value="$(find BARN_Env)/source/path_files/path_$(arg map_id).npy"/>
  </node>

  <!-- map_server节点 -->
  <node pkg="map_server" type="map_server" name="map_server" output="screen" args="$(find BARN_Env)/source/map_files/yaml_$(arg map_id).yaml"/>
  <!-- map坐标变换对齐节点 -->
  <node pkg="BARN_Env" type="map_tf.py" name="world_to_map_static_tf" output="screen">
    <param name="map_offset_y" value="0.15"/>
  </node>



</launch>

